{
  "_format": "hh-sol-artifact-1",
  "contractName": "StrategyVaultFacet",
  "sourceName": "contracts/hyperstaking/facets/StrategyVaultFacet.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "target",
          "type": "address"
        }
      ],
      "name": "AddressEmptyCode",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "AddressInsufficientBalance",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FailedInnerCall",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SafeERC20FailedOperation",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "VaultAlreadyExist",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "stake",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "shares",
          "type": "uint256"
        }
      ],
      "name": "Deposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "VaultCreate",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "shares",
          "type": "uint256"
        }
      ],
      "name": "Withdraw",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "addStrategy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "convertToShares",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "userContribution",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "userVaultInfo",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "stakeLocked",
              "type": "uint256"
            }
          ],
          "internalType": "struct UserVaultInfo",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        }
      ],
      "name": "vaultAssetInfo",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "totalShares",
              "type": "uint256"
            }
          ],
          "internalType": "struct VaultAsset",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        }
      ],
      "name": "vaultInfo",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "poolId",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "strategy",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "totalStakeLocked",
              "type": "uint256"
            }
          ],
          "internalType": "struct VaultInfo",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "withdraw",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "withdrawAmount",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600f57600080fd5b506110198061001f6000396000f3fe60806040526004361061007b5760003560e01c80637a24c3941161004e5780637a24c394146101225780639164359a14610144578063e7e5c96e1461018f578063f45346dc1461022457600080fd5b8063217a7f64146100805780633e5541f1146100b45780635fb1fe10146100e257806369328dec14610102575b600080fd5b34801561008c57600080fd5b506100a061009b366004610dbd565b610237565b604051905181526020015b60405180910390f35b3480156100c057600080fd5b506100d46100cf366004610df0565b610287565b6040519081526020016100ab565b3480156100ee57600080fd5b506100d46100fd366004610dbd565b610368565b34801561010e57600080fd5b506100d461011d366004610e1a565b610436565b34801561012e57600080fd5b5061014261013d366004610e56565b61063f565b005b34801561015057600080fd5b5061016461015f366004610e89565b61066d565b60408051825181526020808401516001600160a01b03169082015291810151908201526060016100ab565b34801561019b57600080fd5b506102006101aa366004610e89565b604080518082018252600080825260209182018190526001600160a01b039384168152600080516020610fa483398151915282528290208251808401909352805490931682526001909201549181019190915290565b6040805182516001600160a01b0316815260209283015192810192909252016100ab565b610142610232366004610e1a565b6106eb565b60408051602080820183526000918290526001600160a01b038581168352600080516020610f84833981519152825283832090851683528152908290208251918201909252905481525b92915050565b6001600160a01b038281166000818152600080516020610fc483398151915260209081526040808320815160608101835281548152600182810154881682860152600290920154818401908152958552600080516020610fa483398151915284528285208351808501909452805490971683529501549181019190915291519092600080516020610f84833981519152929091849061032e670de0b6b3a764000088610eba565b6103389190610ed1565b9050670de0b6b3a76400008260200151826103539190610eba565b61035d9190610ed1565b979650505050505050565b6001600160a01b038281166000818152600080516020610f8483398151915260208181526040808420878716855282528084208151808401835290548152948452600080516020610fc48339815191528252808420815160608101835281548152600182015490971692870192909252600290910154908501528251919390929115806103f757506040810151155b156104085760009350505050610281565b6040810151825161042290670de0b6b3a764000090610eba565b61042c9190610ed1565b9695505050505050565b6001600160a01b038381166000818152600080516020610f8483398151915260208181526040808420958716808552958252808420948452600080516020610fc48339815191528252808420600080516020610fa48339815191528352818520815486527f34b634470e29e36048aab5cc5a64c34b2eced30149e0fdca374a6ec67d2dfdf280855283872098875297909352908420939592949293909190866104df8b8b610287565b9050898560000160008282546104f59190610ef3565b92505081905550898460020160008282546105109190610ef3565b925050819055508982600101600082825461052b9190610ef3565b92505081905550808360010160008282546105469190610ef3565b90915550508254610561906001600160a01b03168c836108da565b60405163cff4075960e01b8152600481018290526001600160a01b038a811660248301528c169063cff40759906044016020604051808303816000875af11580156105b0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105d49190610f06565b9750886001600160a01b03168b6001600160a01b031685600001547ffe7813e2866053d5c3938554e517b554fce6666a6561bed9eaa7419b29fa9b688d85604051610629929190918252602082015260400190565b60405180910390a4505050505050509392505050565b61066883836040518060400160405280856001600160a01b03168152602001600081525061096a565b505050565b61069a60405180606001604052806000815260200160006001600160a01b03168152602001600081525090565b506001600160a01b039081166000908152600080516020610fc48339815191526020908152604091829020825160608101845281548152600182015490941691840191909152600201549082015290565b6001600160a01b038381166000818152600080516020610f8483398151915260208181526040808420958716808552958252808420948452600080516020610fc48339815191528252808420600080516020610fa48339815191528352818520815486527f34b634470e29e36048aab5cc5a64c34b2eced30149e0fdca374a6ec67d2dfdf28085528387209887529790935290842085549396959491939091899186919061079a908490610f1f565b92505081905550878360020160008282546107b59190610f1f565b92505081905550878160010160008282546107d09190610f1f565b9091555050604051630faa7cc560e21b8152600481018990526001600160a01b038881166024830152600091908b1690633ea9f314908b9060440160206040518083038185885af1158015610829573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019061084e9190610f06565b8354909150610868906001600160a01b03168b3084610a76565b8083600101600082825461087c9190610f1f565b90915550508354604080518b8152602081018490526001600160a01b03808c1693908e169290917feb65d0f36862bbd8763c5e2c983c9d753267d223eee35a224d8d0a9d7ef433a2910160405180910390a450505050505050505050565b604051636eb1769f60e11b81523060048201526001600160a01b0383811660248301526000919085169063dd62ed3e90604401602060405180830381865afa15801561092a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061094e9190610f06565b9050610964848461095f8585610f1f565b610add565b50505050565b6001600160a01b0382166000908152600080516020610fc48339815191526020526040902054600080516020610f8483398151915290156109be5760405163dd5f5b4360e01b815260040160405180910390fd5b604080516060810182528581526001600160a01b03858116602080840182815260008587018181528482526001898101855288832097518855925187840180549188166001600160a01b031992831617905590516002978801559588018352869020885181549516949095168417855587820151940193909355835190815291820152859133917f32317837e42341185b6f4403cfc98d72f1d93bf1c6795eb3a067565a3b5a0836910160405180910390a350505050565b6040516001600160a01b0384811660248301528381166044830152606482018390526109649186918216906323b872dd906084015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050610b69565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663095ea7b360e01b179052610b2e8482610bd1565b610964576040516001600160a01b03848116602483015260006044830152610b6391869182169063095ea7b390606401610aab565b61096484825b6000610b7e6001600160a01b03841683610c79565b90508051600014158015610ba3575080806020019051810190610ba19190610f32565b155b1561066857604051635274afe760e01b81526001600160a01b03841660048201526024015b60405180910390fd5b6000806000846001600160a01b031684604051610bee9190610f54565b6000604051808303816000865af19150503d8060008114610c2b576040519150601f19603f3d011682016040523d82523d6000602084013e610c30565b606091505b5091509150818015610c5a575080511580610c5a575080806020019051810190610c5a9190610f32565b8015610c7057506000856001600160a01b03163b115b95945050505050565b6060610c8783836000610c8e565b9392505050565b606081471015610cb35760405163cd78605960e01b8152306004820152602401610bc8565b600080856001600160a01b03168486604051610ccf9190610f54565b60006040518083038185875af1925050503d8060008114610d0c576040519150601f19603f3d011682016040523d82523d6000602084013e610d11565b606091505b509150915061042c868383606082610d3157610d2c82610d78565b610c87565b8151158015610d4857506001600160a01b0384163b155b15610d7157604051639996b31560e01b81526001600160a01b0385166004820152602401610bc8565b5080610c87565b805115610d885780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b80356001600160a01b0381168114610db857600080fd5b919050565b60008060408385031215610dd057600080fd5b610dd983610da1565b9150610de760208401610da1565b90509250929050565b60008060408385031215610e0357600080fd5b610e0c83610da1565b946020939093013593505050565b600080600060608486031215610e2f57600080fd5b610e3884610da1565b925060208401359150610e4d60408501610da1565b90509250925092565b600080600060608486031215610e6b57600080fd5b83359250610e7b60208501610da1565b9150610e4d60408501610da1565b600060208284031215610e9b57600080fd5b610c8782610da1565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761028157610281610ea4565b600082610eee57634e487b7160e01b600052601260045260246000fd5b500490565b8181038181111561028157610281610ea4565b600060208284031215610f1857600080fd5b5051919050565b8082018082111561028157610281610ea4565b600060208284031215610f4457600080fd5b81518015158114610c8757600080fd5b6000825160005b81811015610f755760208186018101518583015201610f5b565b50600092019182525091905056febe4ff07067d4fd4ee08dc2d2f96a40cbf5630eafbe74b02fa78478a777226685be4ff07067d4fd4ee08dc2d2f96a40cbf5630eafbe74b02fa78478a777226687be4ff07067d4fd4ee08dc2d2f96a40cbf5630eafbe74b02fa78478a777226686a2646970667358221220a18b1c77f1542ea000a2c9bb9d7de43a730ee3a2b46b7c7431c841654af7a62864736f6c634300081b0033",
  "deployedBytecode": "0x60806040526004361061007b5760003560e01c80637a24c3941161004e5780637a24c394146101225780639164359a14610144578063e7e5c96e1461018f578063f45346dc1461022457600080fd5b8063217a7f64146100805780633e5541f1146100b45780635fb1fe10146100e257806369328dec14610102575b600080fd5b34801561008c57600080fd5b506100a061009b366004610dbd565b610237565b604051905181526020015b60405180910390f35b3480156100c057600080fd5b506100d46100cf366004610df0565b610287565b6040519081526020016100ab565b3480156100ee57600080fd5b506100d46100fd366004610dbd565b610368565b34801561010e57600080fd5b506100d461011d366004610e1a565b610436565b34801561012e57600080fd5b5061014261013d366004610e56565b61063f565b005b34801561015057600080fd5b5061016461015f366004610e89565b61066d565b60408051825181526020808401516001600160a01b03169082015291810151908201526060016100ab565b34801561019b57600080fd5b506102006101aa366004610e89565b604080518082018252600080825260209182018190526001600160a01b039384168152600080516020610fa483398151915282528290208251808401909352805490931682526001909201549181019190915290565b6040805182516001600160a01b0316815260209283015192810192909252016100ab565b610142610232366004610e1a565b6106eb565b60408051602080820183526000918290526001600160a01b038581168352600080516020610f84833981519152825283832090851683528152908290208251918201909252905481525b92915050565b6001600160a01b038281166000818152600080516020610fc483398151915260209081526040808320815160608101835281548152600182810154881682860152600290920154818401908152958552600080516020610fa483398151915284528285208351808501909452805490971683529501549181019190915291519092600080516020610f84833981519152929091849061032e670de0b6b3a764000088610eba565b6103389190610ed1565b9050670de0b6b3a76400008260200151826103539190610eba565b61035d9190610ed1565b979650505050505050565b6001600160a01b038281166000818152600080516020610f8483398151915260208181526040808420878716855282528084208151808401835290548152948452600080516020610fc48339815191528252808420815160608101835281548152600182015490971692870192909252600290910154908501528251919390929115806103f757506040810151155b156104085760009350505050610281565b6040810151825161042290670de0b6b3a764000090610eba565b61042c9190610ed1565b9695505050505050565b6001600160a01b038381166000818152600080516020610f8483398151915260208181526040808420958716808552958252808420948452600080516020610fc48339815191528252808420600080516020610fa48339815191528352818520815486527f34b634470e29e36048aab5cc5a64c34b2eced30149e0fdca374a6ec67d2dfdf280855283872098875297909352908420939592949293909190866104df8b8b610287565b9050898560000160008282546104f59190610ef3565b92505081905550898460020160008282546105109190610ef3565b925050819055508982600101600082825461052b9190610ef3565b92505081905550808360010160008282546105469190610ef3565b90915550508254610561906001600160a01b03168c836108da565b60405163cff4075960e01b8152600481018290526001600160a01b038a811660248301528c169063cff40759906044016020604051808303816000875af11580156105b0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105d49190610f06565b9750886001600160a01b03168b6001600160a01b031685600001547ffe7813e2866053d5c3938554e517b554fce6666a6561bed9eaa7419b29fa9b688d85604051610629929190918252602082015260400190565b60405180910390a4505050505050509392505050565b61066883836040518060400160405280856001600160a01b03168152602001600081525061096a565b505050565b61069a60405180606001604052806000815260200160006001600160a01b03168152602001600081525090565b506001600160a01b039081166000908152600080516020610fc48339815191526020908152604091829020825160608101845281548152600182015490941691840191909152600201549082015290565b6001600160a01b038381166000818152600080516020610f8483398151915260208181526040808420958716808552958252808420948452600080516020610fc48339815191528252808420600080516020610fa48339815191528352818520815486527f34b634470e29e36048aab5cc5a64c34b2eced30149e0fdca374a6ec67d2dfdf28085528387209887529790935290842085549396959491939091899186919061079a908490610f1f565b92505081905550878360020160008282546107b59190610f1f565b92505081905550878160010160008282546107d09190610f1f565b9091555050604051630faa7cc560e21b8152600481018990526001600160a01b038881166024830152600091908b1690633ea9f314908b9060440160206040518083038185885af1158015610829573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019061084e9190610f06565b8354909150610868906001600160a01b03168b3084610a76565b8083600101600082825461087c9190610f1f565b90915550508354604080518b8152602081018490526001600160a01b03808c1693908e169290917feb65d0f36862bbd8763c5e2c983c9d753267d223eee35a224d8d0a9d7ef433a2910160405180910390a450505050505050505050565b604051636eb1769f60e11b81523060048201526001600160a01b0383811660248301526000919085169063dd62ed3e90604401602060405180830381865afa15801561092a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061094e9190610f06565b9050610964848461095f8585610f1f565b610add565b50505050565b6001600160a01b0382166000908152600080516020610fc48339815191526020526040902054600080516020610f8483398151915290156109be5760405163dd5f5b4360e01b815260040160405180910390fd5b604080516060810182528581526001600160a01b03858116602080840182815260008587018181528482526001898101855288832097518855925187840180549188166001600160a01b031992831617905590516002978801559588018352869020885181549516949095168417855587820151940193909355835190815291820152859133917f32317837e42341185b6f4403cfc98d72f1d93bf1c6795eb3a067565a3b5a0836910160405180910390a350505050565b6040516001600160a01b0384811660248301528381166044830152606482018390526109649186918216906323b872dd906084015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050610b69565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663095ea7b360e01b179052610b2e8482610bd1565b610964576040516001600160a01b03848116602483015260006044830152610b6391869182169063095ea7b390606401610aab565b61096484825b6000610b7e6001600160a01b03841683610c79565b90508051600014158015610ba3575080806020019051810190610ba19190610f32565b155b1561066857604051635274afe760e01b81526001600160a01b03841660048201526024015b60405180910390fd5b6000806000846001600160a01b031684604051610bee9190610f54565b6000604051808303816000865af19150503d8060008114610c2b576040519150601f19603f3d011682016040523d82523d6000602084013e610c30565b606091505b5091509150818015610c5a575080511580610c5a575080806020019051810190610c5a9190610f32565b8015610c7057506000856001600160a01b03163b115b95945050505050565b6060610c8783836000610c8e565b9392505050565b606081471015610cb35760405163cd78605960e01b8152306004820152602401610bc8565b600080856001600160a01b03168486604051610ccf9190610f54565b60006040518083038185875af1925050503d8060008114610d0c576040519150601f19603f3d011682016040523d82523d6000602084013e610d11565b606091505b509150915061042c868383606082610d3157610d2c82610d78565b610c87565b8151158015610d4857506001600160a01b0384163b155b15610d7157604051639996b31560e01b81526001600160a01b0385166004820152602401610bc8565b5080610c87565b805115610d885780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b80356001600160a01b0381168114610db857600080fd5b919050565b60008060408385031215610dd057600080fd5b610dd983610da1565b9150610de760208401610da1565b90509250929050565b60008060408385031215610e0357600080fd5b610e0c83610da1565b946020939093013593505050565b600080600060608486031215610e2f57600080fd5b610e3884610da1565b925060208401359150610e4d60408501610da1565b90509250925092565b600080600060608486031215610e6b57600080fd5b83359250610e7b60208501610da1565b9150610e4d60408501610da1565b600060208284031215610e9b57600080fd5b610c8782610da1565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761028157610281610ea4565b600082610eee57634e487b7160e01b600052601260045260246000fd5b500490565b8181038181111561028157610281610ea4565b600060208284031215610f1857600080fd5b5051919050565b8082018082111561028157610281610ea4565b600060208284031215610f4457600080fd5b81518015158114610c8757600080fd5b6000825160005b81811015610f755760208186018101518583015201610f5b565b50600092019182525091905056febe4ff07067d4fd4ee08dc2d2f96a40cbf5630eafbe74b02fa78478a777226685be4ff07067d4fd4ee08dc2d2f96a40cbf5630eafbe74b02fa78478a777226687be4ff07067d4fd4ee08dc2d2f96a40cbf5630eafbe74b02fa78478a777226686a2646970667358221220a18b1c77f1542ea000a2c9bb9d7de43a730ee3a2b46b7c7431c841654af7a62864736f6c634300081b0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}