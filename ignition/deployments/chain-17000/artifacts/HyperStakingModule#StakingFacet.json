{
  "_format": "hh-sol-artifact-1",
  "contractName": "StakingFacet",
  "sourceName": "contracts/hyperstaking/facets/StakingFacet.sol",
  "abi": [
    {
      "inputs": [],
      "name": "DepositBadValue",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PoolDoesNotExist",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "Unsupported",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "VaultDoesNotExist",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "WithdrawFailedCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "StakeDeposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "withdrawAmount",
          "type": "uint256"
        }
      ],
      "name": "StakeWithdraw",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "stakeToken",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "idx",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        }
      ],
      "name": "StakingPoolCreate",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "stakeToken",
          "type": "address"
        }
      ],
      "name": "createStakingPool",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "stakeToken",
          "type": "address"
        },
        {
          "internalType": "uint96",
          "name": "idx",
          "type": "uint96"
        }
      ],
      "name": "generatePoolId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nativeTokenAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        }
      ],
      "name": "poolInfo",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "poolId",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "native",
              "type": "bool"
            },
            {
              "internalType": "address",
              "name": "stakeToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "totalStake",
              "type": "uint256"
            }
          ],
          "internalType": "struct StakingPoolInfo",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        }
      ],
      "name": "stakeDeposit",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "strategy",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        }
      ],
      "name": "stakeWithdraw",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "withdrawAmount",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "userPoolInfo",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "staked",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "stakeLocked",
              "type": "uint256"
            }
          ],
          "internalType": "struct UserPoolInfo",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "userPoolShare",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600f57600080fd5b50610c4b8061001f6000396000f3fe60806040526004361061007b5760003560e01c80634e27072a1161004e5780634e27072a146101dd578063be111af41461026c578063d0885a521461028c578063fc792af9146102a157600080fd5b80631526fe27146100805780633bdd540f1461016257806345d818ab146101905780634d0047ee146101b0575b600080fd5b34801561008c57600080fd5b5061011b61009b366004610a10565b6040805160808082018352600080835260208084018290528385018290526060938401829052948152600080516020610bf683398151915285528390208351918201845280548252600181015460ff81161515958301959095526101009094046001600160a01b0316928101929092526002909201549181019190915290565b6040516101599190815181526020808301511515908201526040808301516001600160a01b0316908201526060918201519181019190915260800190565b60405180910390f35b34801561016e57600080fd5b5061018261017d366004610a45565b6102c1565b604051908152602001610159565b34801561019c57600080fd5b506101826101ab366004610a88565b610311565b3480156101bc57600080fd5b506101c56105a3565b6040516001600160a01b039091168152602001610159565b3480156101e957600080fd5b506102516101f8366004610ace565b60408051808201825260008082526020918201819052938452600080516020610bd683398151915281528184206001600160a01b0393909316845291825291829020825180840190935280548352600101549082015290565b60408051825181526020928301519281019290925201610159565b34801561027857600080fd5b50610182610287366004610afa565b6105d9565b61029f61029a366004610a88565b6105e4565b005b3480156102ad57600080fd5b506101826102bc366004610ace565b6107f4565b60408051606084901b6bffffffffffffffffffffffff191660208083019190915260a084901b6001600160a01b031916603483015282518083038201815291830190925280519101205b92915050565b6000848152600080516020610bf6833981519152602052604081205485908590600080516020610bd6833981519152907fbe4ff07067d4fd4ee08dc2d2f96a40cbf5630eafbe74b02fa78478a777226685908414610382576040516302721e1f60e61b815260040160405180910390fd5b6001600160a01b038316600090815260018201602052604090205484146103bc57604051634d827f1760e01b815260040160405180910390fd5b6000600080516020610bd683398151915260008b81526001820160209081526040808320848352818420338086529352928190209051631a4ca37b60e21b81526001600160a01b038e166004820152602481018d9052604481019290925292935090919030906369328dec906064016020604051808303816000875af115801561044a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061046e9190610b1c565b9750898260020160008282546104849190610b4b565b909155505080548a90829060009061049d908490610b4b565b9091555050600182015460ff1615610529576000896001600160a01b03168960405160006040518083038185875af1925050503d80600081146104fc576040519150601f19603f3d011682016040523d82523d6000602084013e610501565b606091505b505090508061052357604051631d17e35560e01b815260040160405180910390fd5b50610542565b604051634851657960e11b815260040160405180910390fd5b604080516001600160a01b038d81168252602082018d90529181018a90528d918b169033907fb484c704c702a527eb4fc41072a89779aeb46d0fe9058d3572e9ab6b17165d1b9060600160405180910390a450505050505050949350505050565b604051656e617469766560d01b60208201526000906026016040516020818303038152906040528051906020012060001c905090565b600061030b82610867565b6000848152600080516020610bf6833981519152602052604090205484908490600080516020610bd6833981519152907fbe4ff07067d4fd4ee08dc2d2f96a40cbf5630eafbe74b02fa78478a777226685908414610655576040516302721e1f60e61b815260040160405180910390fd5b6001600160a01b0383166000908152600182016020526040902054841461068f57604051634d827f1760e01b815260040160405180910390fd5b6000888152600080516020610bf683398151915260209081526040808320600080516020610bd68339815191528084528285206001600160a01b038b1686529093529220600183015491929160ff1615610529578834146107035760405163c987b27560e01b815260040160405180910390fd5b888260020160008282546107179190610b5e565b9091555050805489908290600090610730908490610b5e565b9091555050604051633d14d1b760e21b81526001600160a01b03808c166004830152602482018b905289166044820152309063f45346dc90606401600060405180830381600087803b15801561078557600080fd5b505af1158015610799573d6000803e3d6000fd5b5050604080516001600160a01b038e81168252602082018e90528f94508c16925033917fdb0c35c5f0ea9f1e4beaa40b4f67565d2a722e26a2bd12e959d2a0f3334e3bf0910160405180910390a45050505050505050505050565b6000828152600080516020610bf683398151915260209081526040808320600080516020610bd68339815191528084528285206001600160a01b03871686529093529083206002820154815461085390670de0b6b3a764000090610b71565b61085d9190610b88565b9695505050505050565b6001600160a01b03811660009081527f34b634470e29e36048aab5cc5a64c34b2eced30149e0fdca374a6ec67d2dfdf46020526040812054600080516020610bd6833981519152906001600160601b03166108c284826102c1565b6001600160a01b0385166000908152600284016020526040812080549295506001600160601b0390921691906108f783610baa565b91906101000a8154816001600160601b0302191690836001600160601b031602179055505060006109266105a3565b6001600160a01b0316856001600160a01b031603610942575060015b6040805160808101825285815282151560208083019182526001600160a01b038981168486018181526000606087018181528c825260018c81018752918990209751885595519087018054925190941661010002610100600160a81b0319911515919091166001600160a81b03199092169190911717909155915160029093019290925582516001600160601b03861681529182018790529133917fd42a0ad48cedb70e78a2ea761850fc3736b3796808c3ef48ac49a4f4a0beb98c910160405180910390a3505050919050565b600060208284031215610a2257600080fd5b5035919050565b80356001600160a01b0381168114610a4057600080fd5b919050565b60008060408385031215610a5857600080fd5b610a6183610a29565b915060208301356001600160601b0381168114610a7d57600080fd5b809150509250929050565b60008060008060808587031215610a9e57600080fd5b84359350610aae60208601610a29565b925060408501359150610ac360608601610a29565b905092959194509250565b60008060408385031215610ae157600080fd5b82359150610af160208401610a29565b90509250929050565b600060208284031215610b0c57600080fd5b610b1582610a29565b9392505050565b600060208284031215610b2e57600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561030b5761030b610b35565b8082018082111561030b5761030b610b35565b808202811582820484141761030b5761030b610b35565b600082610ba557634e487b7160e01b600052601260045260246000fd5b500490565b60006001600160601b0382166001600160601b038103610bcc57610bcc610b35565b6001019291505056fe34b634470e29e36048aab5cc5a64c34b2eced30149e0fdca374a6ec67d2dfdf234b634470e29e36048aab5cc5a64c34b2eced30149e0fdca374a6ec67d2dfdf3a26469706673582212200894fff042d259b58414f981f2af747ba2d7243f36527524e4474716718be62964736f6c634300081b0033",
  "deployedBytecode": "0x60806040526004361061007b5760003560e01c80634e27072a1161004e5780634e27072a146101dd578063be111af41461026c578063d0885a521461028c578063fc792af9146102a157600080fd5b80631526fe27146100805780633bdd540f1461016257806345d818ab146101905780634d0047ee146101b0575b600080fd5b34801561008c57600080fd5b5061011b61009b366004610a10565b6040805160808082018352600080835260208084018290528385018290526060938401829052948152600080516020610bf683398151915285528390208351918201845280548252600181015460ff81161515958301959095526101009094046001600160a01b0316928101929092526002909201549181019190915290565b6040516101599190815181526020808301511515908201526040808301516001600160a01b0316908201526060918201519181019190915260800190565b60405180910390f35b34801561016e57600080fd5b5061018261017d366004610a45565b6102c1565b604051908152602001610159565b34801561019c57600080fd5b506101826101ab366004610a88565b610311565b3480156101bc57600080fd5b506101c56105a3565b6040516001600160a01b039091168152602001610159565b3480156101e957600080fd5b506102516101f8366004610ace565b60408051808201825260008082526020918201819052938452600080516020610bd683398151915281528184206001600160a01b0393909316845291825291829020825180840190935280548352600101549082015290565b60408051825181526020928301519281019290925201610159565b34801561027857600080fd5b50610182610287366004610afa565b6105d9565b61029f61029a366004610a88565b6105e4565b005b3480156102ad57600080fd5b506101826102bc366004610ace565b6107f4565b60408051606084901b6bffffffffffffffffffffffff191660208083019190915260a084901b6001600160a01b031916603483015282518083038201815291830190925280519101205b92915050565b6000848152600080516020610bf6833981519152602052604081205485908590600080516020610bd6833981519152907fbe4ff07067d4fd4ee08dc2d2f96a40cbf5630eafbe74b02fa78478a777226685908414610382576040516302721e1f60e61b815260040160405180910390fd5b6001600160a01b038316600090815260018201602052604090205484146103bc57604051634d827f1760e01b815260040160405180910390fd5b6000600080516020610bd683398151915260008b81526001820160209081526040808320848352818420338086529352928190209051631a4ca37b60e21b81526001600160a01b038e166004820152602481018d9052604481019290925292935090919030906369328dec906064016020604051808303816000875af115801561044a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061046e9190610b1c565b9750898260020160008282546104849190610b4b565b909155505080548a90829060009061049d908490610b4b565b9091555050600182015460ff1615610529576000896001600160a01b03168960405160006040518083038185875af1925050503d80600081146104fc576040519150601f19603f3d011682016040523d82523d6000602084013e610501565b606091505b505090508061052357604051631d17e35560e01b815260040160405180910390fd5b50610542565b604051634851657960e11b815260040160405180910390fd5b604080516001600160a01b038d81168252602082018d90529181018a90528d918b169033907fb484c704c702a527eb4fc41072a89779aeb46d0fe9058d3572e9ab6b17165d1b9060600160405180910390a450505050505050949350505050565b604051656e617469766560d01b60208201526000906026016040516020818303038152906040528051906020012060001c905090565b600061030b82610867565b6000848152600080516020610bf6833981519152602052604090205484908490600080516020610bd6833981519152907fbe4ff07067d4fd4ee08dc2d2f96a40cbf5630eafbe74b02fa78478a777226685908414610655576040516302721e1f60e61b815260040160405180910390fd5b6001600160a01b0383166000908152600182016020526040902054841461068f57604051634d827f1760e01b815260040160405180910390fd5b6000888152600080516020610bf683398151915260209081526040808320600080516020610bd68339815191528084528285206001600160a01b038b1686529093529220600183015491929160ff1615610529578834146107035760405163c987b27560e01b815260040160405180910390fd5b888260020160008282546107179190610b5e565b9091555050805489908290600090610730908490610b5e565b9091555050604051633d14d1b760e21b81526001600160a01b03808c166004830152602482018b905289166044820152309063f45346dc90606401600060405180830381600087803b15801561078557600080fd5b505af1158015610799573d6000803e3d6000fd5b5050604080516001600160a01b038e81168252602082018e90528f94508c16925033917fdb0c35c5f0ea9f1e4beaa40b4f67565d2a722e26a2bd12e959d2a0f3334e3bf0910160405180910390a45050505050505050505050565b6000828152600080516020610bf683398151915260209081526040808320600080516020610bd68339815191528084528285206001600160a01b03871686529093529083206002820154815461085390670de0b6b3a764000090610b71565b61085d9190610b88565b9695505050505050565b6001600160a01b03811660009081527f34b634470e29e36048aab5cc5a64c34b2eced30149e0fdca374a6ec67d2dfdf46020526040812054600080516020610bd6833981519152906001600160601b03166108c284826102c1565b6001600160a01b0385166000908152600284016020526040812080549295506001600160601b0390921691906108f783610baa565b91906101000a8154816001600160601b0302191690836001600160601b031602179055505060006109266105a3565b6001600160a01b0316856001600160a01b031603610942575060015b6040805160808101825285815282151560208083019182526001600160a01b038981168486018181526000606087018181528c825260018c81018752918990209751885595519087018054925190941661010002610100600160a81b0319911515919091166001600160a81b03199092169190911717909155915160029093019290925582516001600160601b03861681529182018790529133917fd42a0ad48cedb70e78a2ea761850fc3736b3796808c3ef48ac49a4f4a0beb98c910160405180910390a3505050919050565b600060208284031215610a2257600080fd5b5035919050565b80356001600160a01b0381168114610a4057600080fd5b919050565b60008060408385031215610a5857600080fd5b610a6183610a29565b915060208301356001600160601b0381168114610a7d57600080fd5b809150509250929050565b60008060008060808587031215610a9e57600080fd5b84359350610aae60208601610a29565b925060408501359150610ac360608601610a29565b905092959194509250565b60008060408385031215610ae157600080fd5b82359150610af160208401610a29565b90509250929050565b600060208284031215610b0c57600080fd5b610b1582610a29565b9392505050565b600060208284031215610b2e57600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561030b5761030b610b35565b8082018082111561030b5761030b610b35565b808202811582820484141761030b5761030b610b35565b600082610ba557634e487b7160e01b600052601260045260246000fd5b500490565b60006001600160601b0382166001600160601b038103610bcc57610bcc610b35565b6001019291505056fe34b634470e29e36048aab5cc5a64c34b2eced30149e0fdca374a6ec67d2dfdf234b634470e29e36048aab5cc5a64c34b2eced30149e0fdca374a6ec67d2dfdf3a26469706673582212200894fff042d259b58414f981f2af747ba2d7243f36527524e4474716718be62964736f6c634300081b0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}